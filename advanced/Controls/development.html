<!-- $Id$ -->
<!-- $Source$ -->

<html>
<head>
<title>ProFTPD Developer's Guide: Developing Custom Controls</title>
</head>

<body bgcolor=white>

<hr><br>
<center>
<img src="../../images/proftpd.png" border=0>
<br><br>
<h3><b>ProFTPD Developer's Guide: Developing Custom Controls</b></h3>
<i><b>ProFTPD Version 1.2</b></i><br>
</center>
<hr><br>

<p>
<center><a href="../../toc.html">Table of Contents</a></center><br>

<p>
A controls handler <b>must</b> add at least one response to the control
object, even if just an error message.  Failure to do is an error, and the
client will not read the response, or the handler's return value, properly.

<p>
Some control handlers, if they are going to be long-lived (relatively) and
complexe, might do better fork()ing before doing their thing, rather
than holding up the main daemon process (in which context the handlers
normally run).

<p>
When defining your own custom controls,

<p>
/* As the shutdown time is not "now", use a timer; waiting for
 * ControlsInterval may not be best.  If this is the case, though, then
 * what use is ctrls_when?  (Note: document the possible use of the
 * ctrls_when field by controls to configure _when_ a control args
 * will be processed; this setting to be done at the start of some
 * custom controls handler.) If using a timer, though, be sure to
 * store the timer ID, so that rescinding the shutdown request is
 * possible.

<p>
New config_rec flags of CF_GCTRL, CF_SCTRL

<p>
<center><a href="../../toc.html">Table of Contents</a></center><br>

<hr><br>

Author: <i>$Author$</i><br>
Last Updated: <i>$Date$</i><br>

<br><hr>

<font size=2><b><i>
&copy; Copyright 2000-2002 TJ Saunders<br>
 All Rights Reserved<br>
</i></b></font>

<hr><br>

</body>
</html>
